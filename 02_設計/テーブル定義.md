# テーブル定義書

## usersテーブル
| No | 論理カラム名| 物理カラム名 | 型 | 桁数 | NotNull | UQ | 備考 |
| :---:| :---:| :---: | :---: | :---: | :---: | :---: | :---: |
| 1 | ユーザーID | user_id | SERIAL | - | ⚪︎ | ⚪︎ | 主キー |
| 2 | 総チップ | chips | Integer | 10 | ⚪︎ | - | 初期値: 500 |
| 3 | 総プレイ時間 | times_duration | Integer | 10 | ⚪︎ | - | 初期値 : 0, 単位は時間|
| 4 | 更新日時 | update_at | TIMESTAMP | - | ⚪︎ | - | - |

<br>

## accountsテーブル
| No | 論理カラム名 | 物理カラム名 | 型 | 桁数 | NotNull | UQ | 備考 |
| :---:| :---:| :---: | :---: | :---: | :---: | :---: | :---: |
| 1 | ユーザーID | user_id | SERIAL | - | ⚪︎ | ⚪︎ | 主キー、外部キー(usersの主キー) |
| 2 | ユーザーネーム | username | VARCHAR (30) | 30 | ⚪︎ | ⚪︎ | - |
| 3 | メールアドレス | email | VARCHAR (256) | 256 | ⚪︎ | ⚪︎ | - |
| 4 | パスワード | password | VARCHAR (30) | 30 | ⚪︎ | - | - |
| 5 | 作成日時 | created_at | TIMESTAMP | - | ⚪︎ | - | - |
| 6 | 更新日時 | update_at | TIMESTAMP | - | ⚪︎ | - | - |

<br>

## short_cutテーブル
| No | 論理カラム名 | 物理カラム名 | 型 | 桁数 | NotNull | UQ | 備考 |
| :---:| :---:| :---: | :---: | :---: | :---: | :---: | :---: |
| 1 | ID | id | SERIAL | - | ⚪︎ | ⚪︎ | 主キー |
| 2 | ユーザーID | user_id | SERIAL | - | ⚪︎ | ⚪︎ | 外部キー(usersテーブルの主キー) |
| 3 | フォールド | fold | Integer | 10 | - | - | 文字コード(0なら48)を入れる |
| 4 | コール | call | Integer | 10 | - | - | 文字コード(9なら57)を入れる |
| 5 | レイズ | raise | Integer | 10 | - | - | 文字コード(Aなら65)を入れる |
| 6 | チェック | check | Integer | 10 | - | - | 文字コード(Bなら66)を入れる |
| 7 | オールイン | all_in | Integer | 10 | - | - | 文字コード(Zなら90)を入れる |
| 8 | 更新日時 | update_at | TIMESTAMP | - | ⚪︎ | - | - |

<br>

## logsテーブル
| No | 論理カラム名| 物理カラム名 | 型 | 桁数 | NotNull | UQ | 備考 |
| :---:| :---:| :---: | :---: | :---: | :---: | :---: | :---: |
| 1 | ゲームID | game_id | SERIAL | - | ⚪︎ | ⚪︎ | 主キー |
| 2 | ユーザーID | user_id | SERIAL | - | ⚪︎ | - | 外部キー(usersの主キー) |
| 2 | アクション履歴 | actions_log | VARCHAR(300) | 300 | ⚪︎ | - | - |
| 3 | 収支 | win_amount | Integer | 10 | ⚪︎ | - | - |
| 4 | 開始日時 | start_at | TIMESTAMP | - | ⚪︎ | - | - |
| 5 | 終了日時 | end_at | TIMESTAMP | - | ⚪︎ | - | - |

### actions_logカラムについて
- <プレイヤー><アクション>の連続した数字の文字列でそのゲームのログを管理
- Ex -> 021120 ... (02: ユーザーがベット >> 11: bot1がコール >> 20: bot2がフォールド)

| ユーザー | bot1 | bot2 | bot3 | bot4 | bot5|
| :-: | :-: | :-: | :-: | :-: | :-: |
| 0 | 1 | 2 | 3 | 4 | 5 |

| fold | call | bet | raise | check |
| :-: | :-: | :-: | :-: | :-: |
| 0 | 1 | 2 | 3 | 4 | 5 |
